#!/bin/bash

# GitHub OAuth Configuration Update Guide for MinTid
# This script provides instructions for updating GitHub OAuth app settings

echo "=== GitHub OAuth App Configuration Update Required ==="
echo ""
echo "ğŸ“ IMPORTANT: You need to manually update your GitHub OAuth app settings"
echo ""
echo "ğŸ”— Go to: https://github.com/settings/applications"
echo "   Or: https://github.com/settings/developers"
echo ""
echo "ğŸ“‹ Update these settings for your MinTid OAuth app:"
echo ""
echo "1. Authorization callback URL:"
echo "   OLD: https://kyiwpwlxmysyuqjdxvyq.supabase.co/auth/v1/callback"
echo "   NEW: https://vcjmwgbjbllkkivrkvqx.supabase.co/auth/v1/callback"
echo ""
echo "2. Homepage URL (optional but recommended):"
echo "   Development: http://localhost:8888"
echo "   Production: https://minatid.se"
echo ""
echo "âœ… Current Supabase Project Details:"
echo "   Project ID: vcjmwgbjbllkkivrkvqx"
echo "   Project URL: https://vcjmwgbjbllkkivrkvqx.supabase.co"
echo "   Project Name: MinTid 2.0"
echo ""
echo "ğŸ”‘ Your GitHub OAuth app should have these environment variables in Supabase:"
echo "   (These are already configured in the auth providers)"
echo ""
echo "ğŸ“± After updating GitHub OAuth app:"
echo "   1. Save the changes in GitHub"
echo "   2. Test authentication by running: npm run dev"
echo "   3. Try logging in with GitHub OAuth"
echo ""
echo "ğŸš¨ Current Status:"
echo "   âœ… Database migration completed"
echo "   âœ… RLS policies fixed (no more infinite recursion)"
echo "   âœ… Super admin user configured"
echo "   âš ï¸  GitHub OAuth callback URL needs manual update"
echo "   âš ï¸  Authentication testing required"
echo ""
echo "â° Estimated time: 2-3 minutes to update GitHub OAuth settings"
echo ""
echo "ğŸ’¡ Need help? Check the GitHub OAuth apps at:"
echo "   https://github.com/settings/applications"
